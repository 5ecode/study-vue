<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="noindex,nofollow">
  <title>Vue.jså­¦ç¿’å¸³</title>
  <link rel="stylesheet" href="/assets/css/shared.css">
</head>
<body>
  <div class="l-wrap">
    <main class="l-main">
      <div class="l-contents">
        <div class="l-base">
          <div class="st-pageFront">
            <p class="st-pageFront_ttl" data-ttl="Prototyping">Prototyping</p>
          </div>
          <h1 class="c-ttlType01 u-mb1">ç·´ç¿’ãã®2</h1>
          <div class="u-mb2">
            <p>ã“ã“ã¾ã§å­¦ç¿’ã—ãŸå†…å®¹ã‚’ä½¿ã£ã¦ã€å®Ÿè·µçš„ãªã‚¢ãƒ—ãƒªã‚’åˆ¶ä½œã€‚</p>
          </div>
          <h2 class="c-ttlType02 u-mb1">BookShelfNote</h2>
          <dl class="u-mb1">
            <p class="u-mb1">å€‹äººçš„ã«æ¬²ã—ã„ã¨æ€ã£ãŸæ©Ÿèƒ½ã‚’ç››ã‚Šè¾¼ã‚“ã æ›¸ç±ç®¡ç†ãŒã§ãã‚‹ã‚¢ãƒ—ãƒªã€‚</p>
            <dt class="u-fontB">åˆ¶ä½œæ¡ä»¶ãƒ»ä»•æ§˜</dt>
            <dd class="u-mb1">
              <ul class="c-dotList">
                <li>Vue3.js + Composition API + TypeScriptã‚’ä½¿ç”¨ã€‚</li>
                <li>æ¥½å¤©ãƒ–ãƒƒã‚¯ã‚¹æ›¸ç±æ¤œç´¢APIã‹ã‚‰æ›¸ç±æƒ…å ±ã‚’å–å¾—ã€‚</li>
                <li>æ›¸ç±ã®è¿½åŠ ã¯ã€ã€Œæ›¸ç±åãƒ»è‘—è€…åã‹ã‚‰æ¤œç´¢ã€ã€ŒISBNã‹ã‚‰æ¤œç´¢ã€ã€Œãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã£ã¦æ¤œç´¢ã€ã€Œæ‰‹å…¥åŠ›ã€ã‹ã‚‰é¸æŠå¯èƒ½ã€‚</li>
                <li>æ›¸ç±ã®è¡¨ç´™ç”»åƒã¯ISBNã‹ã‚‰å–å¾—ã™ã‚‹ä»¥å¤–ã«ã€ä»»æ„ã®ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹ã€‚</li>
                <li>LocalStorageã§å–å¾—ã—ãŸæ›¸ç±ã®æƒ…å ±ã‚’ä¿å­˜ã€‚</li>
                <li>æ›¸ç±åã‹ã‚‰å·»æ•°ã®è¡¨è¨˜ã‚’å‰Šé™¤ã—ã€ã‚·ãƒªãƒ¼ã‚ºåã‚’è‡ªå‹•ã§ç™»éŒ²ã€‚ã€‚</li>
                <li>ã‚·ãƒªãƒ¼ã‚ºåä¸€è¦§ã€è‘—è€…ã”ã¨ã®ä½œå“ä¸€è¦§ãŒè¡¨ç¤ºå¯èƒ½ã€‚</li>
                <li>ã‚·ãƒªãƒ¼ã‚ºåã¨è‘—è€…åãŒä¸€æ‹¬ç·¨é›†ãŒã§ãã‚‹ã€‚</li>
                <li>æ–°åˆŠãƒã‚§ãƒƒã‚¯ãŒã§ãã‚‹ã€‚</li>
                <li>è²¸å‡ºä¸­ã¨è²¸å‡ºæ¸ˆã®ãƒ©ãƒ™ãƒ«ãŒã¤ã‘ã‚‰ã‚Œã‚‹ã€‚</li>
                <li>TOPãƒšãƒ¼ã‚¸ã§ã¯è¡¨ç¤ºã®çµã‚Šè¾¼ã¿ï¼ˆã™ã¹ã¦ã®æ›¸ç±/è²¸å‡ºä¸­/è²¸å‡ºæ¸ˆ/æ¤œç´¢ï¼‰ãŒã§ãã‚‹ã€‚</li>
              </ul>
            </dd>
            <dt class="u-fontB">URL</dt>
            <dd class="u-mb1"><a href="https://book-shelf-note.5ecodework.com/" target="_blank" class="c-txtLink" rel="noopener noreferrer">https://book-shelf-note.5ecodework.com/</a></dd>
            <dt class="u-fontB">ãƒ™ãƒ¼ã‚·ãƒƒã‚¯èªè¨¼</dt>
            <dd>book-shelf-note / vA2Q75Ib</dd>
          </dl>
        </div>
      </div><!--/l-contents-->

      <div class="st-flowFoot">
        <div class="l-base">
          <div class="m-paging">
            <a href="/task/spa.html" class="m-paging_prev">ã‚·ãƒ³ã‚°ãƒ«ãƒšãƒ¼ã‚¸ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³</a>
            <a href="/" class="m-paging_page">INDEX</a>
          </div>
        </div>
      </div>
    </main>
    <!--#include virtual="/inc/layout/footer.html" -->
  </div>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  <script type="module">
//ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
const LocalComponent = {
  template: `
  <p>{{ message }}</p>
  <p>ãƒ­ãƒ¼ã‚«ãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½¿ã„æ–¹</p>
  `,
  data: function(){
    return {
      message: 'Hello Vue!'
    }
  }
}
const ChildProduct = {
  template: `
    <li>
      â—{{name}}:åœ¨åº«{{stock}}
      <button v-if="stock" v-on:click="doSaleStock">è²·ã†</button>
      <span v-else>å®Œå£²ã—ã¾ã—ãŸ</span>
    </li>
  `,
  props: {
    name: String,
    stock: Number,
    index: Number
  },
  emits: ['child-click'],//â†ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆã®å®šç¾©
  setup(props, context) {
    const doSaleStock = function() {
      context.emit('child-click', props.index);
    }

    return { doSaleStock }
  }
};

//ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
const app = Vue.createApp({
  data() {
    return {
      message: 'ã“ã‚“ã«ã¡ã¯ã€Vue!',
      styleColor: {
        'color': '#f00', 'font-weight': 'bold'
      },
      addClass: 'test-class',
      date: new Date().toLocaleString(),
      list: ['springï¼ˆæ˜¥ï¼‰','summerï¼ˆå¤ï¼‰','autumnï¼ˆç§‹ï¼‰','winterï¼ˆå†¬ï¼‰'],
      colors: ['ã‚ã‹','ã‚ãŠ','ãã„ã‚'],
      todos:[
        {id:1, status: true, text: 'Vue.jsã®å­¦ç¿’'},
        {id:2, status: false, text: 'éƒ¨å±‹ã®ç‰‡ã¥ã‘'}
      ],
      searchText:'åˆæœŸå€¤',
      counter: 0,
      ok: true,
      wishlist: [
        { id: 1, name: 'äººé–“å·¥å­¦ã‚ªãƒ•ã‚£ã‚¹ãƒã‚§ã‚¢', price: 21817 },
        { id: 2, name: 'FINAL FANTASY VII REBIRTH', price: 9000 },
        { id: 3, name: 'PINARELLO Prince', price: 465000 },
        { id: 4, name: 'ã‚¨ã‚¢ã‚¦ã‚£ãƒ¼ãƒ´ 02 ã‚·ãƒ³ã‚°ãƒ«', price: 100000 }
      ],
      tax: 10,
      product: [
        {id: 1, name: 'ãƒ•ãƒ«ãƒ¼ãƒ„ã‚¿ãƒ«ãƒˆ', stock: 3, price: 410},
        {id: 2, name: 'æ¥µç”Ÿå¡©ãƒ‘ãƒ³', stock: 10, price: 180},
        {id: 3, name: 'è‰é¤…', stock: 1, price: 240}
      ],
      testText: ''
    }
  },
  methods: {
    removeColor(){
      // é…åˆ—ã®å…ˆé ­ã‚’å‰Šé™¤
      this.colors.shift();
    },
    
    handSold(i){
      saleStock(this.product, i);
    },
    testTextEvent(event) {
      this.testText = event;
    }
  },
  setup(){
    const items = Vue.ref([
      {id:1, name:'ãƒãƒ¼ã‚ºã‚±ãƒ¼ã‚­', stock:3, price:370},
      {id:2, name:'ã‚¯ãƒªãƒ¼ãƒ ãƒ‘ãƒ³', stock:10, price:200},
      {id:3, name:'éº©ã¾ã‚“ã˜ã‚…ã†', stock:1, price:240},
      {id:4, name:'ã‚¿ãƒ«ãƒˆ', stock:10}
    ]);
    const styleList = Vue.ref({listStyle: 'disc'});
    const newItemName = Vue.ref('');
    const newItemStock= Vue.ref(10);
    const order= Vue.ref([0]);
    const reducedTax= Vue.ref(8);
    const counter1 = Vue.ref(0);
    const counter2 = Vue.ref(0);
    const state = Vue.reactive({
      name: '',
      age: 0
    });
    const showModal = Vue.ref(false)
    // é–¢æ•°
    const addItem = function() {
      const max = items.value.reduce(function(a,b){
        return a.id > b.id ? a.id : b.id;
      },0)

      if(newItemName.value){
        items.value.push({
          id: max + 1,
          name: newItemName.value,
          stock: Number(newItemStock.value)
        });
      }
    }

    const handleSale = (i) => {
      saleStock(items.value, i);
    }

    // ç®—å‡º
    const filtersort = Vue.computed(function() {
      const sweets = items.value.filter(function(val){
        return val.price;
      });
      return sweets.sort((a, b) => a.price - b.price);
    });

    const totalPrice = Vue.computed(function() {
        const total = order.value.reduce(function(a,b){
        return a + b;
      });
      return Math.round(total + total * reducedTax.value / 100);
    });

    // ç›£è¦–
    // ğŸŸ¢ æ–¹æ³•â‘ : å€‹åˆ¥watch
    Vue.watch(counter1, (newVal, oldVal) => {
      console.log(`counter1 changed: ${oldVal} â†’ ${newVal}`);
    });

    Vue.watch(counter2, (newVal, oldVal) => {
      console.log(`counter2 changed: ${oldVal} â†’ ${newVal}`);
    });

    // ğŸŸ¡ æ–¹æ³•â‘¡: é…åˆ—ã§watch
    Vue.watch([counter1, counter2], ([new1, new2], [old1, old2]) => {
      console.log(`ã¾ã¨ã‚watch: counter1 ${old1}â†’${new1}, counter2 ${old2}â†’${new2}`);
    });

    // ğŸ”µ æ–¹æ³•â‘¢: reactiveã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç‰¹å®šãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’watch
    Vue.watch(
      () => ({ name: state.name, age: state.age }),
      (newVal, oldVal) => {
        console.log('stateå¤‰æ›´:', oldVal, 'â†’', newVal);
      }
    );
    // ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ•ãƒƒã‚¯
    Vue.onMounted(function () {
      console.log(`ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒãƒã‚¦ãƒ³ãƒˆã•ã‚Œã¾ã—ãŸã€‚`);
    })
    Vue.onUpdated(function () {
      console.log(`ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ‡ãƒ¼ã‚¿ãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸï¼`);
    })

    return {
      styleList,items,newItemName,newItemStock,order,reducedTax,counter1,counter2,state,addItem,handleSale,filtersort,totalPrice,showModal
    }
  },
  components: {
    'local-component': LocalComponent,
    'child-product': ChildProduct
  }
})

// ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
app.component('global-component', {
  template: `
    <p class="u-fontB">{{ message }}</p>
    <p><strong>ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½¿ã„æ–¹</strong></p>
  `,
  data: function () {
    return {
      message: 'Hello Vue!'
    }
  }
})
app.component('custom-input', {
  template: `<p>
    <input v-bind:value="modelValue" v-on:input="$emit('update:modelValue', $event.target.value)">
    å­å´ï¼š{{modelValue}}
    </p>
  `,
  props: {'modelValue': [String, Number]},
  emits: ['update:modelValue']
})

app.component('text-link', {
  props: {
    text: String,
    url: String
  },
  template: `<p><a v-bind:href="url" class="c-txtLink" target="_blank">{{ text }}</a></p>`
});

app.component('wish-list', {
  template:`<li>{{name}} : {{filter}}å††ï¼ˆç¨è¾¼ï¼‰</li>`,
  props: {
    name: String,
    price: Number,
    tax: Number
  },
  computed: {
    filter() {
      const total = Math.round(this.price + this.price * this.tax / 100);
      return total.toLocaleString();
    }
  }
});
app.component('custom-input2', {
  template: `<p>
    <input v-bind:value="value" v-on:input="$emit('child-input', $event.target.value)">
    å­å´ï¼š{{value}}
    </p>`,
  props: ['value'],
})

app.component('parent-component', {
  components: {
    'child-product': ChildProduct
  },
  template: `<child-product v-for="(item,i) in product" v-bind:key="item.id" v-bind:index="i" v-bind="item" v-on:child-click="saleStock"></child-product>`,
  setup() {
    const product = Vue.ref([
      { id: 1, name: 'ãƒ•ãƒ«ãƒ¼ãƒ„ã‚¿ãƒ«ãƒˆ', stock: 3, price: 410 },
      { id: 2, name: 'æ¥µç”Ÿå¡©ãƒ‘ãƒ³', stock: 10, price: 180 },
      { id: 3, name: 'è‰é¤…', stock: 1, price: 240 }
    ])

    const saleStock = function(i) {
      if (product.value[i].stock > 0) {
        product.value[i].stock -= 1;
      }
    }

    return { product, saleStock }
  }
})

app.component('async-component', {
  template: `<p>èª­ã¿è¾¼ã¿å®Œäº†ï¼</p>`,
  async setup() {
    // ç–‘ä¼¼çš„ã«3ç§’å¾…ã¤
    await new Promise(resolve => setTimeout(resolve, 3000))
  }
})
//
export const saleStock = (items, i) => {
  if (items[i].stock > 0) {
    items[i].stock -= 1
  }
}
app.mount('#App')

const array = [1,2,3];
console.log(array);
console.log(...array);
const array2 = [...array];
const array3 = [...array, ...array];
console.log(array2);
console.log(array3);
array2.push(10)
console.log(array);
const array4 = array;
array4.push(10)
console.log(array);

function sum(x, y, z) {
  return x + y + z;
}
const total = sum(...array4);
console.log(total);

const obj1 = { a: 1, b: 2 };
console.log(obj1); // â†’ {a: 1, b: 2}
// console.log(...obj1);  // â†’ ã‚¨ãƒ©ãƒ¼
console.log({ ...obj1}); // â†’ {a: 1, b: 2}
const obj2 = { ...obj1};
const obj3 = { ...obj1, b: 20 };
const obj4 = { b: 10, c: 100 };

console.log(obj3); // â†’ {a: 1, b: 20}
const merged = { ...obj3, ...obj4 };
console.log(merged);  // â†’ { a: 1, b: 10, c: 100 }

const values = Object.values(obj1);
console.log(values)
function logChars(a, b, c) {
  console.log(a, b, c);
}

async function searchBooks() {
  const query = 'JavaScriptæœ¬æ ¼å…¥é–€'; // æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ãªã©ï¼‰
  const apiKey = 'AIzaSyC4HLP7FoDgP8XM0mB-j5Cf84cNgGRBmjI'; // å–å¾—ã—ãŸAPIã‚­ãƒ¼ã‚’å…¥ã‚Œã‚‹
  const url = `https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(query)}&maxResults=10&key=${apiKey}`;
  const response = await fetch(url);
  const data = await response.json();
  
  if (data.items) {
    data.items.forEach(book => {
      const info = book.volumeInfo;
      const title = info.title || 'ã‚¿ã‚¤ãƒˆãƒ«ãªã—';
      const authors = info.authors ? info.authors.join(', ') : 'è‘—è€…ä¸æ˜';
      const link = info.infoLink;
      console.log(title)
    })
  }
}
searchBooks()
  </script>
</body>
</html>